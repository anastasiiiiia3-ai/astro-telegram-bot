services:
  - type: web
    name: astro-telegram-bot
    runtime: docker
    plan: free
    region: frankfurt
    
    # Автоматический перезапуск при сбоях
    healthCheckPath: /health
    
    # Переменные окружения (установите в Render Dashboard)
    envVars:
      - key: TELEGRAM_TOKEN
        sync: false
      - key: OPENAI_API_KEY
        sync: false
      - key: PAYMENT_TOKEN
        sync: false
    
    # Автомасштабирование и перезапуск
    autoDeploy: true
    
    # Настройки здоровья
    healthCheck:
      enabled: true
      path: /health
      interval: 30
      timeout: 10
      unhealthyThreshold: 3
      healthyThreshold: 2
